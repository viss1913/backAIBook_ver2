# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ Gen-API z-image

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [–û–±—â–∏–π –æ–±–∑–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞](#–æ–±—â–∏–π-–æ–±–∑–æ—Ä-–ø—Ä–æ—Ü–µ—Å—Å–∞)
2. [–®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏](#—à–∞–≥-1-—Å–æ–∑–¥–∞–Ω–∏–µ-–∑–∞–¥–∞—á–∏-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)
3. [–®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (Long Polling)](#—à–∞–≥-2-–ø–æ–ª—É—á–µ–Ω–∏–µ-—Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞-long-polling)
4. [–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è](#–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ-url-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
5. [–ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞](#–ø–æ–ª–Ω—ã–π-–ø—Ä–∏–º–µ—Ä-–∫–æ–¥–∞)
6. [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫](#–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫)
7. [–í–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏](#–≤–∞–∂–Ω—ã–µ-–¥–µ—Ç–∞–ª–∏)

---

## –û–±—â–∏–π –æ–±–∑–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ Gen-API z-image –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ **–¥–≤–∞ —ç—Ç–∞–ø–∞**:

1. **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏** - –æ—Ç–ø—Ä–∞–≤–∫–∞ POST –∑–∞–ø—Ä–æ—Å–∞ —Å –ø—Ä–æ–º–ø—Ç–æ–º
2. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞** - –æ–ø—Ä–æ—Å —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ GET –∑–∞–ø—Ä–æ—Å—ã (Long Polling)

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** API —Ä–∞–±–æ—Ç–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ. –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–¥–∞—á—É –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `request_id`. –†–µ–∑—É–ª—å—Ç–∞—Ç (URL –∫–∞—Ä—Ç–∏–Ω–∫–∏) –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏, –æ–ø—Ä–∞—à–∏–≤–∞—è —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏.

---

## –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

### Endpoint
```
POST https://api.gen-api.ru/api/v1/networks/z-image
```

### –ó–∞–≥–æ–ª–æ–≤–∫–∏
```http
Authorization: Bearer YOUR_GEN_API_KEY
Content-Type: application/json
Accept: application/json
```

### –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON)

```json
{
  "translate_input": true,
  "prompt": "–í–∞—à –ø—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è",
  "width": 992,
  "height": 992,
  "num_images": 1,
  "model": "turbo",
  "output_format": "png",
  "num_inference_steps": 8,
  "enable_safety_checker": true,
  "acceleration": "high",
  "enable_prompt_expansion": false
}
```

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|-----|--------------|----------|----------------------|
| `prompt` | string | ‚úÖ –î–∞ | –¢–µ–∫—Å—Ç –æ–ø–∏—Å–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è | - |
| `translate_input` | boolean | ‚ùå –ù–µ—Ç | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥ –ø—Ä–æ–º–ø—Ç–∞ | `true` |
| `width` | number | ‚ùå –ù–µ—Ç | –®–∏—Ä–∏–Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –ø–∏–∫—Å–µ–ª—è—Ö | `992` |
| `height` | number | ‚ùå –ù–µ—Ç | –í—ã—Å–æ—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –ø–∏–∫—Å–µ–ª—è—Ö | `992` |
| `num_images` | number | ‚ùå –ù–µ—Ç | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–æ–±—ã—á–Ω–æ 1) | `1` |
| `model` | string | ‚ùå –ù–µ—Ç | –ú–æ–¥–µ–ª—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ | `"turbo"` |
| `output_format` | string | ‚ùå –ù–µ—Ç | –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ (`png`, `jpg`) | `"png"` |
| `num_inference_steps` | number | ‚ùå –ù–µ—Ç | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ | `8` |
| `enable_safety_checker` | boolean | ‚ùå –ù–µ—Ç | –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ | `true` |
| `acceleration` | string | ‚ùå –ù–µ—Ç | –†–µ–∂–∏–º —É—Å–∫–æ—Ä–µ–Ω–∏—è (`"none"`, `"high"`) | `"high"` |
| `enable_prompt_expansion` | boolean | ‚ùå –ù–µ—Ç | –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞ | `false` |

‚ö†Ô∏è **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü–∞—Ä–∞–º–µ—Ç—Ä `callback_url` **–ù–ï –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è**. –í–º–µ—Å—Ç–æ callback –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Long Polling (–æ–ø—Ä–æ—Å —Å—Ç–∞—Ç—É—Å–∞).

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ (—É—Å–ø–µ—à–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏)

```json
{
  "request_id": 12345,
  "status": "starting"
}
```

#### –ü–æ–ª—è –æ—Ç–≤–µ—Ç–∞:

- `request_id` (number) - **–£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –∑–∞–¥–∞—á–∏**. –≠—Ç–æ—Ç ID –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.
- `status` (string) - –°—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏: `"starting"`, `"processing"`, `"pending"`

---

## –®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (Long Polling)

–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è `request_id`, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ–ø—Ä–∞—à–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏, –ø–æ–∫–∞ –æ–Ω–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è.

### Endpoint –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞
```
GET https://api.gen-api.ru/api/v1/request/get/{request_id}
```

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç: `/request/get/{request_id}`, –∞ –Ω–µ `/networks/z-image/{request_id}` –∏–ª–∏ –¥—Ä—É–≥–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã.

### –ó–∞–≥–æ–ª–æ–≤–∫–∏
```http
Authorization: Bearer YOUR_GEN_API_KEY
Accept: application/json
```

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–ø—Ä–æ—Å–∞

- **–ò–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏:** 3 —Å–µ–∫—É–Ω–¥—ã (3000 –º—Å)
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫:** 60 (–≤—Å–µ–≥–æ ~3 –º–∏–Ω—É—Ç—ã –æ–∂–∏–¥–∞–Ω–∏—è)
- **Timeout –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞:** 30 —Å–µ–∫—É–Ω–¥

### –°—Ç–∞—Ç—É—Å—ã –∑–∞–¥–∞—á–∏

| –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ | –î–µ–π—Å—Ç–≤–∏–µ |
|--------|----------|----------|
| `"starting"` | –ó–∞–¥–∞—á–∞ —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–Ω–∞ | –ü—Ä–æ–¥–æ–ª–∂–∞—Ç—å –æ–ø—Ä–æ—Å |
| `"pending"` | –ó–∞–¥–∞—á–∞ –≤ –æ—á–µ—Ä–µ–¥–∏ | –ü—Ä–æ–¥–æ–ª–∂–∞—Ç—å –æ–ø—Ä–æ—Å |
| `"processing"` | –ò–¥–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è | –ü—Ä–æ–¥–æ–ª–∂–∞—Ç—å –æ–ø—Ä–æ—Å |
| `"success"` | ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ | **–ò–∑–≤–ª–µ—á—å URL –∫–∞—Ä—Ç–∏–Ω–∫–∏** |
| `"failed"` | ‚ùå –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ | –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É |
| `"error"` | ‚ùå –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ | –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É |

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ –≤–æ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

```json
{
  "request_id": 12345,
  "status": "processing"
}
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ –ø—Ä–∏ —É—Å–ø–µ—Ö–µ

```json
{
  "request_id": 12345,
  "status": "success",
  "result": [
    "https://cdn.gen-api.ru/images/abc123def456.png"
  ]
}
```

**–ò–õ–ò** (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–µ—Ä—Å–∏–∏ API):

```json
{
  "request_id": 12345,
  "status": "success",
  "full_response": [
    {
      "url": "https://cdn.gen-api.ru/images/abc123def456.png"
    }
  ]
}
```

---

## –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

–ö–æ–≥–¥–∞ `status === "success"`, URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω—É–∂–Ω–æ –∏–∑–≤–ª–µ—á—å –∏–∑ –æ—Ç–≤–µ—Ç–∞. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–æ–ª—è –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:

### 1. –ü–æ–ª–µ `result` (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

–ï—Å–ª–∏ –ø–æ–ª–µ `result` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —è–≤–ª—è–µ—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏:

```javascript
if (data.result && Array.isArray(data.result) && data.result.length > 0) {
  imageUrl = data.result[0]; // –≠—Ç–æ —Å—Ç—Ä–æ–∫–∞ —Å URL
}
```

–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
```json
{
  "status": "success",
  "result": ["https://cdn.gen-api.ru/images/abc123.png"]
}
```

### 2. –ü–æ–ª–µ `full_response`

–ï—Å–ª–∏ `result` –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `full_response`:

```javascript
if (data.full_response && Array.isArray(data.full_response) && data.full_response.length > 0) {
  imageUrl = data.full_response[0].url; // –û–±—ä–µ–∫—Ç —Å –ø–æ–ª–µ–º url
}
```

–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
```json
{
  "status": "success",
  "full_response": [
    {
      "url": "https://cdn.gen-api.ru/images/abc123.png"
    }
  ]
}
```

### –§–æ—Ä–º–∞—Ç—ã URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

URL –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö:

1. **HTTP/HTTPS URL** (–Ω–∞–∏–±–æ–ª–µ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–æ):
   ```
   https://cdn.gen-api.ru/images/abc123def456.png
   ```

2. **Base64 data URL**:
   ```
   data:image/png;base64,iVBORw0KGgoAAAANS...
   ```

3. **Base64 —Å—Ç—Ä–æ–∫–∞ –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞**:
   ```
   iVBORw0KGgoAAAANS...
   ```

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ñ–æ—Ä–º–∞—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ:

```javascript
if (imageUrl.startsWith('http')) {
  // –≠—Ç–æ –æ–±—ã—á–Ω—ã–π URL, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é
} else if (imageUrl.startsWith('data:')) {
  // –≠—Ç–æ data URL, —É–∂–µ –≥–æ—Ç–æ–≤ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
} else {
  // –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º base64 –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ—Ñ–∏–∫—Å:
  imageUrl = `data:image/png;base64,${imageUrl}`;
}
```

---

## –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞

### JavaScript/Node.js (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º axios)

```javascript
const axios = require('axios');

const GEN_API_BASE = 'https://api.gen-api.ru/api/v1';
const GEN_API_KEY = 'YOUR_GEN_API_KEY_HERE';

/**
 * –°–æ–∑–¥–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç axios –¥–ª—è Gen-API
 */
function createGenApiClient(apiKey) {
  return axios.create({
    baseURL: GEN_API_BASE,
    timeout: 30000, // 30 —Å–µ–∫—É–Ω–¥
    headers: {
      'Authorization': `Bearer ${apiKey}`,
      'Content-Type': 'application/json',
      'Accept': 'application/json'
    }
  });
}

/**
 * –°–æ–∑–¥–∞–µ—Ç –∑–∞–¥–∞—á—É –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
 * @param {string} apiKey - API –∫–ª—é—á Gen-API
 * @param {string} prompt - –ü—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
 * @returns {Promise<number>} request_id –∑–∞–¥–∞—á–∏
 */
async function createImageGenerationTask(apiKey, prompt) {
  const client = createGenApiClient(apiKey);
  
  const requestData = {
    translate_input: true,
    prompt: prompt,
    width: 992,
    height: 992,
    num_images: 1,
    model: 'turbo',
    output_format: 'png',
    num_inference_steps: 8,
    enable_safety_checker: true,
    acceleration: 'high',
    enable_prompt_expansion: false
  };

  console.log('üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏...');
  const response = await client.post('/networks/z-image', requestData);
  
  const requestId = response.data.request_id;
  const status = response.data.status;
  
  if (!requestId) {
    throw new Error('No request_id in Gen-API response');
  }
  
  console.log(`‚úÖ –ó–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞–Ω–∞. Request ID: ${requestId}, Status: ${status}`);
  return requestId;
}

/**
 * –û–∂–∏–¥–∞–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –∏ –ø–æ–ª—É—á–∞–µ—Ç URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
 * @param {string} apiKey - API –∫–ª—é—á Gen-API
 * @param {number} requestId - ID –∑–∞–¥–∞—á–∏
 * @param {number} maxAttempts - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 60)
 * @param {number} intervalMs - –ò–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3000)
 * @returns {Promise<string>} URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
 */
async function pollGenApiResult(apiKey, requestId, maxAttempts = 60, intervalMs = 3000) {
  const client = createGenApiClient(apiKey);
  const endpoint = `/request/get/${requestId}`;

  console.log(`üîÑ –ù–∞—á–∏–Ω–∞–µ–º –æ–ø—Ä–æ—Å —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏ ${requestId}...`);
  console.log(`–ú–∞–∫—Å–∏–º—É–º –ø–æ–ø—ã—Ç–æ–∫: ${maxAttempts}, –∏–Ω—Ç–µ—Ä–≤–∞–ª: ${intervalMs}ms`);

  for (let attempt = 1; attempt <= maxAttempts; attempt++) {
    try {
      console.log(`–ü–æ–ø—ã—Ç–∫–∞ ${attempt}/${maxAttempts}...`);

      const response = await client.get(endpoint);
      const data = response.data;

      console.log(`–°—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏: ${data.status || 'unknown'}`);

      // –£—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
      if (data.status === 'success') {
        console.log('‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!');

        // –ò–∑–≤–ª–µ–∫–∞–µ–º URL –∏–∑ result[0] –∏–ª–∏ full_response[0].url
        let imageUrl = null;

        if (data.result && Array.isArray(data.result) && data.result.length > 0) {
          imageUrl = data.result[0];
          console.log('‚úÖ URL –Ω–∞–π–¥–µ–Ω –≤ result[0]:', imageUrl);
        } else if (data.full_response && Array.isArray(data.full_response) && data.full_response.length > 0) {
          imageUrl = data.full_response[0].url;
          console.log('‚úÖ URL –Ω–∞–π–¥–µ–Ω –≤ full_response[0].url:', imageUrl);
        }

        if (imageUrl) {
          return imageUrl;
        } else {
          throw new Error('Image URL not found in result. Check result or full_response fields.');
        }
      }
      
      // –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
      else if (data.status === 'failed' || data.status === 'error') {
        const errorMessage = data.error || 'Unknown error';
        throw new Error(`Gen-API generation failed: ${errorMessage}`);
      }
      
      // –ó–∞–¥–∞—á–∞ –µ—â–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è
      else if (data.status === 'processing' || data.status === 'starting' || data.status === 'pending') {
        console.log(`‚è≥ –ó–∞–¥–∞—á–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ (${data.status}), –∂–¥–µ–º...`);
        // –ñ–¥–µ–º –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–µ–π –ø–æ–ø—ã—Ç–∫–æ–π (–Ω–æ –Ω–µ –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π)
        if (attempt < maxAttempts) {
          await new Promise(resolve => setTimeout(resolve, intervalMs));
        }
      }
      
      // –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å
      else {
        console.log(`‚ö†Ô∏è  –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å: ${data.status}, –∂–¥–µ–º...`);
        if (attempt < maxAttempts) {
          await new Promise(resolve => setTimeout(resolve, intervalMs));
        }
      }
    } catch (error) {
      // –ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ (404), –ø—Ä–æ–±—É–µ–º –µ—â–µ —Ä–∞–∑
      if (error.response?.status === 404) {
        console.log(`‚ö†Ô∏è  –ó–∞–¥–∞—á–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ (404), –ø—Ä–æ–±—É–µ–º –µ—â–µ —Ä–∞–∑...`);
        if (attempt < maxAttempts) {
          await new Promise(resolve => setTimeout(resolve, intervalMs));
          continue;
        }
      }
      // –î—Ä—É–≥–∏–µ –æ—à–∏–±–∫–∏ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—ã—à–µ
      throw error;
    }
  }

  // –ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è
  throw new Error(`–ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è (${maxAttempts} –ø–æ–ø—ã—Ç–æ–∫). –†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ –ø–æ–ª—É—á–µ–Ω.`);
}

/**
 * –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
 * @param {string} apiKey - API –∫–ª—é—á Gen-API
 * @param {string} prompt - –ü—Ä–æ–º–ø—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
 * @returns {Promise<string>} URL —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
 */
async function generateImage(apiKey, prompt) {
  try {
    // –®–∞–≥ 1: –°–æ–∑–¥–∞–µ–º –∑–∞–¥–∞—á—É
    const requestId = await createImageGenerationTask(apiKey, prompt);
    
    // –®–∞–≥ 2: –û–∂–∏–¥–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    const imageUrl = await pollGenApiResult(apiKey, requestId);
    
    return imageUrl;
  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:', error.message);
    throw error;
  }
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
async function main() {
  const apiKey = 'YOUR_GEN_API_KEY_HERE';
  const prompt = '–ì–∏–ø–µ—Ä—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ø–æ—Ä—Ç—Ä–µ—Ç —Å—Ç–∞—Ä–µ–π—à–∏–Ω—ã –ø–ª–µ–º–µ–Ω–∏';

  try {
    console.log('üé® –ù–∞—á–∏–Ω–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è...\n');
    const imageUrl = await generateImage(apiKey, prompt);
    console.log('\nüéâ –£—Å–ø–µ—Ö!');
    console.log('üñºÔ∏è  URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:', imageUrl);
  } catch (error) {
    console.error('\n‚ùå –û—à–∏–±–∫–∞:', error.message);
    process.exit(1);
  }
}

// –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞:
// main();
```

### Python –ø—Ä–∏–º–µ—Ä

```python
import requests
import time

GEN_API_BASE = 'https://api.gen-api.ru/api/v1'
GEN_API_KEY = 'YOUR_GEN_API_KEY_HERE'

def create_gen_api_client(api_key):
    """–°–æ–∑–¥–∞–µ—Ç —Å–µ—Å—Å–∏—é requests —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏"""
    session = requests.Session()
    session.headers.update({
        'Authorization': f'Bearer {api_key}',
        'Content-Type': 'application/json',
        'Accept': 'application/json'
    })
    session.timeout = 30
    return session

def create_image_generation_task(api_key, prompt):
    """–°–æ–∑–¥–∞–µ—Ç –∑–∞–¥–∞—á—É –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è"""
    client = create_gen_api_client(api_key)
    
    request_data = {
        'translate_input': True,
        'prompt': prompt,
        'width': 992,
        'height': 992,
        'num_images': 1,
        'model': 'turbo',
        'output_format': 'png',
        'num_inference_steps': 8,
        'enable_safety_checker': True,
        'acceleration': 'high',
        'enable_prompt_expansion': False
    }
    
    print('üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏...')
    response = client.post(f'{GEN_API_BASE}/networks/z-image', json=request_data)
    response.raise_for_status()
    
    data = response.json()
    request_id = data.get('request_id')
    status = data.get('status')
    
    if not request_id:
        raise ValueError('No request_id in Gen-API response')
    
    print(f'‚úÖ –ó–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞–Ω–∞. Request ID: {request_id}, Status: {status}')
    return request_id

def poll_gen_api_result(api_key, request_id, max_attempts=60, interval_seconds=3):
    """–û–∂–∏–¥–∞–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –∏ –ø–æ–ª—É—á–∞–µ—Ç URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è"""
    client = create_gen_api_client(api_key)
    endpoint = f'{GEN_API_BASE}/request/get/{request_id}'
    
    print(f'üîÑ –ù–∞—á–∏–Ω–∞–µ–º –æ–ø—Ä–æ—Å —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏ {request_id}...')
    print(f'–ú–∞–∫—Å–∏–º—É–º –ø–æ–ø—ã—Ç–æ–∫: {max_attempts}, –∏–Ω—Ç–µ—Ä–≤–∞–ª: {interval_seconds}—Å')
    
    for attempt in range(1, max_attempts + 1):
        try:
            print(f'–ü–æ–ø—ã—Ç–∫–∞ {attempt}/{max_attempts}...')
            
            response = client.get(endpoint)
            response.raise_for_status()
            data = response.json()
            
            status = data.get('status', 'unknown')
            print(f'–°—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏: {status}')
            
            # –£—Å–ø–µ—à–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
            if status == 'success':
                print('‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!')
                
                # –ò–∑–≤–ª–µ–∫–∞–µ–º URL
                image_url = None
                
                if data.get('result') and isinstance(data['result'], list) and len(data['result']) > 0:
                    image_url = data['result'][0]
                    print(f'‚úÖ URL –Ω–∞–π–¥–µ–Ω –≤ result[0]: {image_url}')
                elif data.get('full_response') and isinstance(data['full_response'], list) and len(data['full_response']) > 0:
                    image_url = data['full_response'][0].get('url')
                    print(f'‚úÖ URL –Ω–∞–π–¥–µ–Ω –≤ full_response[0].url: {image_url}')
                
                if image_url:
                    return image_url
                else:
                    raise ValueError('Image URL not found in result. Check result or full_response fields.')
            
            # –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
            elif status in ['failed', 'error']:
                error_msg = data.get('error', 'Unknown error')
                raise ValueError(f'Gen-API generation failed: {error_msg}')
            
            # –ó–∞–¥–∞—á–∞ –µ—â–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è
            elif status in ['processing', 'starting', 'pending']:
                print(f'‚è≥ –ó–∞–¥–∞—á–∞ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ ({status}), –∂–¥–µ–º...')
                if attempt < max_attempts:
                    time.sleep(interval_seconds)
            
            # –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å
            else:
                print(f'‚ö†Ô∏è  –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å: {status}, –∂–¥–µ–º...')
                if attempt < max_attempts:
                    time.sleep(interval_seconds)
                    
        except requests.exceptions.HTTPError as e:
            if e.response.status_code == 404:
                print('‚ö†Ô∏è  –ó–∞–¥–∞—á–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ (404), –ø—Ä–æ–±—É–µ–º –µ—â–µ —Ä–∞–∑...')
                if attempt < max_attempts:
                    time.sleep(interval_seconds)
                    continue
            raise
    
    # –ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è
    raise TimeoutError(f'–ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è ({max_attempts} –ø–æ–ø—ã—Ç–æ–∫). –†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ –ø–æ–ª—É—á–µ–Ω.')

def generate_image(api_key, prompt):
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è"""
    # –®–∞–≥ 1: –°–æ–∑–¥–∞–µ–º –∑–∞–¥–∞—á—É
    request_id = create_image_generation_task(api_key, prompt)
    
    # –®–∞–≥ 2: –û–∂–∏–¥–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    image_url = poll_gen_api_result(api_key, request_id)
    
    return image_url

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
if __name__ == '__main__':
    api_key = 'YOUR_GEN_API_KEY_HERE'
    prompt = '–ì–∏–ø–µ—Ä—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ø–æ—Ä—Ç—Ä–µ—Ç —Å—Ç–∞—Ä–µ–π—à–∏–Ω—ã –ø–ª–µ–º–µ–Ω–∏'
    
    try:
        print('üé® –ù–∞—á–∏–Ω–∞–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è...\n')
        image_url = generate_image(api_key, prompt)
        print('\nüéâ –£—Å–ø–µ—Ö!')
        print(f'üñºÔ∏è  URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: {image_url}')
    except Exception as e:
        print(f'\n‚ùå –û—à–∏–±–∫–∞: {e}')
        exit(1)
```

---

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### HTTP –æ—à–∏–±–∫–∏

| –ö–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –î–µ–π—Å—Ç–≤–∏–µ |
|-----|----------|----------|
| `401` | –ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∫–ª—é—á–∞ |
| `402` | –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –±–∞–ª–∞–Ω—Å–∞ | –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ |
| `403` | –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ API –∫–ª—é—á–∞ |
| `404` | –ó–∞–¥–∞—á–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ (–ø—Ä–∏ –æ–ø—Ä–æ—Å–µ) | –ú–æ–∂–µ—Ç –±—ã—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–π –æ—à–∏–±–∫–æ–π, –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –∑–∞–ø—Ä–æ—Å |
| `429` | –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ | –£–≤–µ–ª–∏—á–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ |
| `500` | –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ Gen-API | –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –∑–∞–ø—Ä–æ—Å –ø–æ–∑–∂–µ |

### –û—à–∏–±–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

–ï—Å–ª–∏ –≤ –æ—Ç–≤–µ—Ç–µ –Ω–∞ –æ–ø—Ä–æ—Å —Å—Ç–∞—Ç—É—Å–∞ `status === "failed"` –∏–ª–∏ `status === "error"`:

```javascript
if (data.status === 'failed' || data.status === 'error') {
  const errorMessage = data.error || 'Unknown error';
  throw new Error(`Gen-API generation failed: ${errorMessage}`);
}
```

### –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–∂–∏–¥–∞–Ω–∏—è

–ï—Å–ª–∏ –ø–æ—Å–ª–µ –≤—Å–µ—Ö –ø–æ–ø—ã—Ç–æ–∫ —Å—Ç–∞—Ç—É—Å —Ç–∞–∫ –∏ –Ω–µ —Å—Ç–∞–ª `"success"`, –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞:

```javascript
throw new Error(`–ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è (${maxAttempts} –ø–æ–ø—ã—Ç–æ–∫). –†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ –ø–æ–ª—É—á–µ–Ω.`);
```

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
- –£–≤–µ–ª–∏—á–∏—Ç—å `maxAttempts` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ 120 –¥–ª—è 6 –º–∏–Ω—É—Ç –æ–∂–∏–¥–∞–Ω–∏—è)
- –£–≤–µ–ª–∏—á–∏—Ç—å `intervalMs` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ 5000 –º—Å)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ Gen-API

---

## –í–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏

### 1. –ë–∞–∑–æ–≤—ã–π URL API

–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∞–∑–æ–≤—ã–π URL:
```
https://api.gen-api.ru/api/v1
```

### 2. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**
```
GET /request/get/{request_id}
```

‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ (–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å):**
- `/networks/z-image/{request_id}`
- `/networks/z-image/requests/{request_id}`
- `/networks/z-image/status/{request_id}`
- `/networks/z-image/result/{request_id}`
- `/requests/{request_id}`
- `/tasks/{request_id}`

### 3. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

API –∫–ª—é—á –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:
```
Authorization: Bearer YOUR_API_KEY
```

### 4. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å

API —Ä–∞–±–æ—Ç–∞–µ—Ç **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ**. –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–¥–∞—á—É. –†–µ–∑—É–ª—å—Ç–∞—Ç –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏.

### 5. –í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

–û–±—ã—á–Ω–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–Ω–∏–º–∞–µ—Ç **30-60 —Å–µ–∫—É–Ω–¥**, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–ª—å—à–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:
- –ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–ø—Ä–æ—Å–∞: **3-5 —Å–µ–∫—É–Ω–¥**
- –ú–∞–∫—Å–∏–º—É–º –ø–æ–ø—ã—Ç–æ–∫: **60-120** (3-6 –º–∏–Ω—É—Ç –æ–∂–∏–¥–∞–Ω–∏—è)

### 6. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ –º–æ–∂–µ—Ç —Ä–∞–∑–ª–∏—á–∞—Ç—å—Å—è

URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö –ø–æ–ª—è—Ö:
- `data.result[0]` (—Å—Ç—Ä–æ–∫–∞ —Å URL)
- `data.full_response[0].url` (–æ–±—ä–µ–∫—Ç —Å –ø–æ–ª–µ–º url)

–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞!

### 7. –§–æ—Ä–º–∞—Ç URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

URL –º–æ–∂–µ—Ç –±—ã—Ç—å:
- HTTP/HTTPS URL: `https://cdn.gen-api.ru/images/abc123.png`
- Base64 data URL: `data:image/png;base64,...`
- Base64 —Å—Ç—Ä–æ–∫–∞: `iVBORw0KGgoAAAANS...`

### 8. –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–∞

API –∫–ª—é—á –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ Gen-API:
- –°–∞–π—Ç: https://gen-api.ru
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://gen-api.ru/docs
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è z-image: https://gen-api.ru/model/z-image/api

---

## –ö—Ä–∞—Ç–∫–∞—è –ø–∞–º—è—Ç–∫–∞

```
1. POST /networks/z-image ‚Üí –ø–æ–ª—É—á–∞–µ–º request_id
2. GET /request/get/{request_id} (–ø–æ–≤—Ç–æ—Ä—è—Ç—å –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫)
   - –ï—Å–ª–∏ status === "success" ‚Üí –∏–∑–≤–ª–µ–∫–∞–µ–º URL –∏–∑ result[0] –∏–ª–∏ full_response[0].url
   - –ï—Å–ª–∏ status === "failed"/"error" ‚Üí –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
   - –ï—Å–ª–∏ status === "processing"/"starting"/"pending" ‚Üí –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –æ–ø—Ä–æ—Å
3. –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª—É—á–µ–Ω–Ω—ã–π URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Gen-API: https://gen-api.ru/docs
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è z-image API: https://gen-api.ru/model/z-image/api
- –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç: https://gen-api.ru

---

**–£–¥–∞—á–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π! üé®**







